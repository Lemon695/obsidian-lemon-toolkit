# 全局命令面板多列独立排序功能

## 功能概述

全局命令面板现在支持多列显示，每列可以独立配置不同的排序方式，让你可以同时从多个维度查看和访问命令。

## 核心特性

### 1. 多列显示
- 支持 1-3 列显示
- 2列配置：快速访问 + 常用命令
- 3列配置：最近使用 + 高频命令 + 按插件浏览

### 2. 独立排序
每列支持 4 种排序方式：
- **最近使用（Recent）**：按最后使用时间排序
- **最多使用（Frequent）**：按使用频率排序
- **字母顺序（Alphabetical）**：按命令名称字母顺序排序
- **按插件名称（Plugin）**：按插件分组，插件内按字母顺序排序

### 3. 固定命令
- 可以将常用命令固定到顶部
- 固定命令始终显示在所有列之前
- 支持多选固定

## 使用方法

### 配置步骤

1. 打开 **设置 → Lemon Toolkit → 全局命令面板**
2. 选择 **显示列数**（1列、2列或3列）
3. 点击 **配置列** 按钮
4. 在弹出的配置窗口中：
   - **固定命令**：勾选需要固定到顶部的命令
   - **列配置**：为每列选择排序方式
5. 点击 **保存** 完成配置

### 配置示例

#### 2列配置示例
```
第1列：最近使用
第2列：最多使用
```
效果：左侧显示最近用过的命令，右侧显示最常用的命令

#### 3列配置示例
```
第1列：最近使用
第2列：最多使用
第3列：按插件名称
```
效果：
- 左侧：最近操作的命令
- 中间：高频使用的命令
- 右侧：按插件分组浏览所有命令

## 技术实现

### 文件结构

```
src/ui/GlobalCommandColumnConfigModal.ts  # 列配置弹窗
src/ui/GlobalCommandPaletteModal.ts       # 全局命令面板
src/ui/SettingTab.ts                      # 设置页面
src/settings.ts                           # 设置接口
```

### 数据组织

1. **固定命令优先**：固定的命令始终显示在最前面
2. **列分配**：未固定的命令按列数平均分配
3. **独立排序**：每列内部按各自的排序规则排序

### 设置存储

```typescript
interface LemonToolkitSettings {
  globalCommandPaletteColumns: 1 | 2 | 3;
  globalCommandPaletteColumnSorts: Array<"recent" | "frequent" | "alphabetical" | "plugin">;
  pinnedGlobalCommands: string[];
}
```

## 优势

1. **多维度查看**：同时看到不同角度的命令排序，无需切换
2. **提高效率**：快速找到需要的命令，减少搜索时间
3. **灵活配置**：根据个人习惯自定义每列的排序方式
4. **固定常用**：将最常用的命令固定在顶部，一键访问

## 使用场景

### 场景1：快速访问 + 发现新功能
- 第1列：最近使用 → 快速访问刚用过的命令
- 第2列：按插件名称 → 浏览和发现插件的其他功能

### 场景2：效率优先
- 第1列：最多使用 → 最常用的命令
- 第2列：最近使用 → 最近的操作

### 场景3：全面视图
- 第1列：最近使用 → 最近操作
- 第2列：最多使用 → 高频命令
- 第3列：按插件名称 → 按插件浏览所有命令

## 注意事项

1. 单列模式下，配置列按钮不会显示列配置选项
2. 固定命令在所有列配置中共享
3. 列排序配置会自动保存
4. 切换列数后，之前的列排序配置会保留
